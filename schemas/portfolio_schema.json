{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Portfolio",
  "description": "Portfolio has a list of portfolio companies",
  "type": "object",
  "required": [
    "companies"
  ],
  "properties": {
    "companies": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/PortfolioCompany"
      }
    }
  },
  "definitions": {
    "Company": {
      "description": "A company with some basic information relevant for investment and a set of possible scenarios",
      "type": "object",
      "required": [
        "description",
        "market_cap",
        "name",
        "scenarios",
        "ticker"
      ],
      "properties": {
        "description": {
          "type": "string"
        },
        "market_cap": {
          "type": "number",
          "format": "double"
        },
        "name": {
          "type": "string"
        },
        "scenarios": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Scenario"
          }
        },
        "ticker": {
          "type": "string"
        }
      }
    },
    "PortfolioCompany": {
      "description": "Portfolio company represents a company with an associated allocation fraction",
      "type": "object",
      "required": [
        "company",
        "fraction"
      ],
      "properties": {
        "company": {
          "$ref": "#/definitions/Company"
        },
        "fraction": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "Scenario": {
      "description": "A scenario is represented by an investment thesis, which can be boiled down to the expected intrinsic value and the estimated probability that this scenario will play out in the future",
      "type": "object",
      "required": [
        "intrinsic_value",
        "probability",
        "thesis"
      ],
      "properties": {
        "intrinsic_value": {
          "type": "number",
          "format": "double"
        },
        "probability": {
          "type": "number",
          "format": "double"
        },
        "thesis": {
          "type": "string"
        }
      }
    }
  }
}